<template>
  <div style="min-height: 100vh; background: #f9fafb;">
    <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞Áä∂ÊÖã -->
    <div v-if="loading" style="display: flex; justify-content: center; align-items: center; min-height: 50vh;">
      <div style="display: flex; align-items: center; gap: 0.5rem; color: #6b7280;">
        <div style="width: 1rem; height: 1rem; border: 2px solid #ff69b4; border-top: 2px solid transparent; border-radius: 50%; animation: spin 1s linear infinite;"></div>
        Ë™≠„ÅøËæº„Åø‰∏≠...
      </div>
    </div>

    <!-- „Ç®„É©„ÉºÁä∂ÊÖã -->
    <div v-else-if="error" style="text-align: center; padding: 4rem;">
      <div style="color: #ef4444; font-size: 3rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
      <h2 style="font-size: 1.5rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0;">
        „Çµ„Éº„ÇØ„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì
      </h2>
      <p style="color: #6b7280; margin: 0 0 2rem 0;">{{ error }}</p>
      <NuxtLink 
        to="/circles"
        style="padding: 0.75rem 1.5rem; background: #ff69b4; color: white; border-radius: 0.5rem; text-decoration: none; font-weight: 500;"
      >
        „Çµ„Éº„ÇØ„É´‰∏ÄË¶ß„Å´Êàª„Çã
      </NuxtLink>
    </div>

    <!-- „Çµ„Éº„ÇØ„É´Ë©≥Á¥∞ -->
    <div v-else-if="circle">
      <!-- „Éò„ÉÉ„ÉÄ„Éº -->
      <div style="background: white; border-bottom: 1px solid #e5e7eb; padding: 2rem 0;">
        <div style="max-width: 1280px; margin: 0 auto; padding: 0 1rem;">
          <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
            <button 
              @click="$router.back()"
              style="padding: 0.5rem; border: 1px solid #d1d5db; background: white; border-radius: 0.375rem; cursor: pointer; color: #6b7280;"
            >
              ‚Üê Êàª„Çã
            </button>
            <div style="flex: 1;">
              <h1 style="font-size: 2rem; font-weight: 700; color: #111827; margin: 0 0 0.5rem 0;">
                {{ circle.circleName }}
              </h1>
              <p v-if="circle.circleKana" style="color: #6b7280; margin: 0; font-size: 1.125rem;">
                {{ circle.circleKana }}
              </p>
            </div>
            
            <!-- „Éñ„ÉÉ„ÇØ„Éû„Éº„ÇØ„Éú„Çø„É≥ -->
            <div style="flex-shrink: 0;">
              <BookmarkButton 
                :circle-id="circle.id"
                @bookmark="handleBookmark"
              />
            </div>
          </div>

          <!-- Âü∫Êú¨ÊÉÖÂ†± -->
          <div style="display: flex; flex-wrap: wrap; gap: 1rem; align-items: center;">
            <!-- ÈÖçÁΩÆ -->
            <div style="display: flex; align-items: center; gap: 0.5rem; background: #fef3f2; padding: 0.5rem 1rem; border-radius: 0.5rem;">
              <span style="font-size: 1.25rem;">üìç</span>
              <div>
                <div style="font-weight: 600; color: #111827;">{{ formatPlacement(circle.placement) }}</div>
                <div style="font-size: 0.875rem; color: #6b7280;">{{ circle.placement.day }}Êó•ÁõÆ</div>
              </div>
            </div>

            <!-- Êàê‰∫∫Âêë„Åë„Éû„Éº„ÇØ -->
            <div v-if="circle.isAdult" style="display: flex; align-items: center; gap: 0.5rem; background: #fef3c7; padding: 0.5rem 1rem; border-radius: 0.5rem;">
              <span style="font-size: 1.25rem;">‚ö†Ô∏è</span>
              <span style="font-weight: 600; color: #92400e;">Êàê‰∫∫Âêë„Åë</span>
            </div>

            <!-- „Éû„ÉÉ„Éó„ÅßÁ¢∫Ë™ç -->
            <NuxtLink 
              to="/map"
              style="display: flex; align-items: center; gap: 0.5rem; background: #f0f9ff; padding: 0.5rem 1rem; border-radius: 0.5rem; text-decoration: none; color: #0284c7; font-weight: 500;"
            >
              <span style="font-size: 1.25rem;">üó∫Ô∏è</span>
              „Éû„ÉÉ„Éó„ÅßÁ¢∫Ë™ç
            </NuxtLink>
          </div>
        </div>
      </div>

      <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
      <div style="max-width: 1280px; margin: 0 auto; padding: 2rem 1rem;">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;">
          <!-- Â∑¶„Ç´„É©„É†ÔºöË©≥Á¥∞ÊÉÖÂ†± -->
          <div style="display: flex; flex-direction: column; gap: 2rem;">
            <!-- „Ç∏„É£„É≥„É´ -->
            <div style="background: white; border-radius: 0.5rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
              <h2 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                üé® „Ç∏„É£„É≥„É´
              </h2>
              <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                <span 
                  v-for="genre in circle.genre" 
                  :key="genre"
                  style="background: #e0f2fe; color: #0277bd; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 500;"
                >
                  {{ genre }}
                </span>
              </div>
            </div>

            <!-- Ë™¨Êòé -->
            <div v-if="circle.description" style="background: white; border-radius: 0.5rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
              <h2 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                üìù „Çµ„Éº„ÇØ„É´Ë™¨Êòé
              </h2>
              <p style="color: #4b5563; line-height: 1.6; margin: 0;">
                {{ circle.description }}
              </p>
            </div>

            <!-- „Çø„Ç∞ -->
            <div v-if="circle.tags && circle.tags.length > 0" style="background: white; border-radius: 0.5rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
              <h2 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                üè∑Ô∏è „Çø„Ç∞
              </h2>
              <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                <span 
                  v-for="tag in circle.tags" 
                  :key="tag"
                  style="background: #f3f4f6; color: #374151; padding: 0.25rem 0.75rem; border-radius: 0.375rem; font-size: 0.875rem;"
                >
                  #{{ tag }}
                </span>
              </div>
            </div>

            <!-- È†íÂ∏ÉÁâ©ÊÉÖÂ†± -->
            <div v-if="circle.items && circle.items.length > 0" style="background: white; border-radius: 0.5rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
              <h2 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                üì¶ È†íÂ∏ÉÁâ©
              </h2>
              <div style="display: flex; flex-direction: column; gap: 1rem;">
                <div 
                  v-for="item in circle.items" 
                  :key="item.id"
                  style="padding: 1rem; background: #f9fafb; border-radius: 0.5rem; border: 1px solid #e5e7eb;"
                >
                  <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                    <h3 style="font-weight: 600; color: #111827; margin: 0;">{{ item.name }}</h3>
                    <span style="font-weight: 600; color: #ff69b4;">{{ item.price }}ÂÜÜ</span>
                  </div>
                  <p v-if="item.description" style="color: #6b7280; margin: 0; font-size: 0.875rem;">
                    {{ item.description }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Âè≥„Ç´„É©„É†Ôºö„Çµ„Ç§„Éâ„Éê„Éº -->
          <div style="display: flex; flex-direction: column; gap: 2rem;">
            <!-- ÈÄ£Áµ°ÂÖà -->
            <div style="background: white; border-radius: 0.5rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
              <h2 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                üìû ÈÄ£Áµ°ÂÖà
              </h2>
              <div style="display: flex; flex-direction: column; gap: 1rem;">
                <!-- Twitter -->
                <a 
                  v-if="circle.contact.twitter"
                  :href="getTwitterUrl(circle.contact.twitter)"
                  target="_blank"
                  rel="noopener noreferrer"
                  style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: #f0f9ff; border-radius: 0.5rem; text-decoration: none; color: #1da1f2; transition: all 0.2s;"
                  onmouseover="this.style.backgroundColor='#e0f2fe'"
                  onmouseout="this.style.backgroundColor='#f0f9ff'"
                >
                  <span style="font-size: 1.25rem;">üê¶</span>
                  <div>
                    <div style="font-weight: 600;">Twitter</div>
                    <div style="font-size: 0.875rem; opacity: 0.8;">@{{ circle.contact.twitter }}</div>
                  </div>
                </a>

                <!-- Pixiv -->
                <a 
                  v-if="circle.contact.pixiv"
                  :href="circle.contact.pixiv"
                  target="_blank"
                  rel="noopener noreferrer"
                  style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: #f0f9ff; border-radius: 0.5rem; text-decoration: none; color: #0284c7; transition: all 0.2s;"
                  onmouseover="this.style.backgroundColor='#e0f2fe'"
                  onmouseout="this.style.backgroundColor='#f0f9ff'"
                >
                  <span style="font-size: 1.25rem;">üé®</span>
                  <div>
                    <div style="font-weight: 600;">Pixiv</div>
                    <div style="font-size: 0.875rem; opacity: 0.8;">‰ΩúÂìÅ„ÇíË¶ã„Çã</div>
                  </div>
                </a>

                <!-- Website -->
                <a 
                  v-if="circle.contact.website"
                  :href="circle.contact.website"
                  target="_blank"
                  rel="noopener noreferrer"
                  style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: #f0fdf4; border-radius: 0.5rem; text-decoration: none; color: #16a34a; transition: all 0.2s;"
                  onmouseover="this.style.backgroundColor='#dcfce7'"
                  onmouseout="this.style.backgroundColor='#f0fdf4'"
                >
                  <span style="font-size: 1.25rem;">üåê</span>
                  <div>
                    <div style="font-weight: 600;">Website</div>
                    <div style="font-size: 0.875rem; opacity: 0.8;">ÂÖ¨Âºè„Çµ„Ç§„Éà</div>
                  </div>
                </a>

                <!-- „ÅäÂìÅÊõ∏„Åç -->
                <a 
                  v-if="circle.contact.oshinaUrl"
                  :href="circle.contact.oshinaUrl"
                  target="_blank"
                  rel="noopener noreferrer"
                  style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: #fff7ed; border-radius: 0.5rem; text-decoration: none; color: #ea580c; transition: all 0.2s;"
                  onmouseover="this.style.backgroundColor='#fed7aa'"
                  onmouseout="this.style.backgroundColor='#fff7ed'"
                >
                  <span style="font-size: 1.25rem;">üìã</span>
                  <div>
                    <div style="font-weight: 600;">„ÅäÂìÅÊõ∏„Åç</div>
                    <div style="font-size: 0.875rem; opacity: 0.8;">È†íÂ∏ÉÁâ©‰∏ÄË¶ß</div>
                  </div>
                </a>
              </div>
            </div>

            <!-- ÈÖçÁΩÆË©≥Á¥∞ -->
            <div style="background: white; border-radius: 0.5rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
              <h2 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                üìç ÈÖçÁΩÆË©≥Á¥∞
              </h2>
              <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                <div style="display: flex; justify-content: space-between;">
                  <span style="color: #6b7280;">ÈñãÂÇ¨Êó•</span>
                  <span style="font-weight: 600; color: #111827;">{{ circle.placement.day }}Êó•ÁõÆ</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                  <span style="color: #6b7280;">„Ç®„É™„Ç¢</span>
                  <span style="font-weight: 600; color: #111827;">{{ circle.placement.area }}</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                  <span style="color: #6b7280;">„Éñ„É≠„ÉÉ„ÇØ</span>
                  <span style="font-weight: 600; color: #111827;">{{ circle.placement.block }}</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                  <span style="color: #6b7280;">Áï™Âè∑</span>
                  <span style="font-weight: 600; color: #111827;">{{ circle.placement.number }}{{ circle.placement.position }}</span>
                </div>
              </div>
            </div>

            <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥ -->
            <div style="background: white; border-radius: 0.5rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
              <h2 style="font-size: 1.25rem; font-weight: 600; color: #111827; margin: 0 0 1rem 0; display: flex; align-items: center; gap: 0.5rem;">
                ‚ö° „Ç¢„ÇØ„Ç∑„Éß„É≥
              </h2>
              <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                <!-- Á∑®ÈõÜ„Éú„Çø„É≥ÔºàÁ∑®ÈõÜÊ®©Èôê„Åå„ÅÇ„ÇãÂ†¥ÂêàÔºâ -->
                <NuxtLink
                  v-if="hasEditPermission"
                  :to="`/circles/edit/${circle.id}`"
                  style="padding: 0.75rem; background: #f0fdf4; color: #16a34a; border: 1px solid #bbf7d0; border-radius: 0.5rem; text-decoration: none; font-weight: 500; transition: all 0.2s; text-align: center;"
                  onmouseover="this.style.backgroundColor='#dcfce7'"
                  onmouseout="this.style.backgroundColor='#f0fdf4'"
                >
                  ‚úèÔ∏è ÊÉÖÂ†±„ÇíÁ∑®ÈõÜ
                </NuxtLink>
                
                <button
                  @click="shareCircle"
                  style="padding: 0.75rem; background: #f3f4f6; color: #374151; border: 1px solid #d1d5db; border-radius: 0.5rem; cursor: pointer; font-weight: 500; transition: all 0.2s;"
                  onmouseover="this.style.backgroundColor='#e5e7eb'"
                  onmouseout="this.style.backgroundColor='#f3f4f6'"
                >
                  üîó „Ç∑„Çß„Ç¢
                </button>
                
                <button
                  v-if="isAuthenticated"
                  @click="reportCircle"
                  style="padding: 0.75rem; background: #fef2f2; color: #dc2626; border: 1px solid #fecaca; border-radius: 0.5rem; cursor: pointer; font-weight: 500; transition: all 0.2s;"
                  onmouseover="this.style.backgroundColor='#fee2e2'"
                  onmouseout="this.style.backgroundColor='#fef2f2'"
                >
                  üö® Â†±Âëä
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
// Route params
const route = useRoute()
const circleId = route.params.id

// State
const circle = ref(null)
const loading = ref(true)
const error = ref(null)
const isAuthenticated = ref(true) // „Çµ„É≥„Éó„É´
const hasEditPermission = ref(true) // „Çµ„É≥„Éó„É´ÔºàÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ useAuth().hasEditPermission „Çí‰ΩøÁî®Ôºâ

// „Çµ„É≥„Éó„É´„Éá„Éº„Çø
const sampleCircles = {
  '1': {
    id: '1',
    circleName: 'ÊòüÂÆÆË£Ω‰ΩúÊâÄ',
    circleKana: '„Åª„Åó„Åø„ÇÑ„Åõ„ÅÑ„Åï„Åè„Åó„Çá',
    genre: ['„Ç¢„Ç§„Ç´„ÉÑÔºÅ', '„ÅÑ„Å°„Åî'],
    placement: { day: '1', area: 'Êù±1', block: '„ÅÇ', number: '01', position: 'a' },
    description: 'ÊòüÂÆÆ„ÅÑ„Å°„Åî„Å°„ÇÉ„Çì„ÅÆ„Ç§„É©„Çπ„ÉàÊú¨„Å®„Ç∞„ÉÉ„Ç∫„ÇíÈ†íÂ∏É‰∫àÂÆö„Åß„Åô„ÄÇ„Ç≠„É©„Ç≠„É©ÂèØÊÑõ„ÅÑ„ÅÑ„Å°„Åî„Å°„ÇÉ„Çì„Çí„ÅäÊ•Ω„Åó„Åø„Åè„Å†„Åï„ÅÑÔºÅ‰ªäÂõû„ÅØÊñ∞Âàä„Å®„Åó„Å¶„Äå„ÅÑ„Å°„Åî„Å°„ÇÉ„Çì„ÅÆÊó•Â∏∏„Äç„Çí„ÉÜ„Éº„Éû„Å´„Åó„Åü4„Ç≥„ÉûÊº´ÁîªÊú¨„Å®„ÄÅ„Ç¢„ÇØ„É™„É´„Ç≠„Éº„Éõ„É´„ÉÄ„Éº„ÄÅÁº∂„Éê„ÉÉ„Ç∏„Çª„ÉÉ„Éà„Çí„ÅîÁî®ÊÑè„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
    contact: { 
      twitter: 'hoshimiya_circle', 
      pixiv: 'https://pixiv.net/users/12345',
      website: 'https://hoshimiya-circle.example.com',
      oshinaUrl: 'https://oshina.example.com/hoshimiya'
    },
    tags: ['„ÅÑ„Å°„Åî', '„Ç§„É©„Çπ„Éà', '„Ç∞„ÉÉ„Ç∫', '„Ç≠„É©„Ç≠„É©', '4„Ç≥„Éû', '„Ç¢„ÇØ„É™„É´„Ç≠„Éº„Éõ„É´„ÉÄ„Éº'],
    isAdult: false,
    items: [
      {
        id: '1',
        name: '„ÅÑ„Å°„Åî„Å°„ÇÉ„Çì„ÅÆÊó•Â∏∏ 4„Ç≥„ÉûÊú¨',
        price: 500,
        description: 'B5„Çµ„Ç§„Ç∫„ÄÅ28„Éö„Éº„Ç∏„ÅÆ„Éï„É´„Ç´„É©„Éº4„Ç≥„ÉûÊº´ÁîªÊú¨„Åß„Åô„ÄÇ'
      },
      {
        id: '2',
        name: '„ÅÑ„Å°„Åî„Å°„ÇÉ„Çì„Ç¢„ÇØ„É™„É´„Ç≠„Éº„Éõ„É´„ÉÄ„Éº',
        price: 800,
        description: 'Á¥Ñ6cm„ÅÆ„Ç¢„ÇØ„É™„É´„Ç≠„Éº„Éõ„É´„ÉÄ„Éº„ÄÇ‰∏°Èù¢Âç∞Âà∑„Åß„Åô„ÄÇ'
      },
      {
        id: '3',
        name: 'Áº∂„Éê„ÉÉ„Ç∏„Çª„ÉÉ„ÉàÔºà3ÂÄãÂÖ•„ÇäÔºâ',
        price: 600,
        description: 'Áõ¥ÂæÑ5.7cm„ÅÆÁº∂„Éê„ÉÉ„Ç∏3ÂÄã„Çª„ÉÉ„Éà„Åß„Åô„ÄÇ'
      }
    ]
  },
  '2': {
    id: '2',
    circleName: '„ÅÇ„Åä„ÅÑÂ∑•Êàø',
    circleKana: '„ÅÇ„Åä„ÅÑ„Åì„ÅÜ„Åº„ÅÜ',
    genre: ['„Ç¢„Ç§„Ç´„ÉÑÔºÅ', '„ÅÇ„Åä„ÅÑ'],
    placement: { day: '1', area: 'Êù±1', block: '„ÅÇ', number: '02', position: 'b' },
    description: 'ÈúßÁü¢„ÅÇ„Åä„ÅÑ„Å°„ÇÉ„Çì„ÅÆ„Ç¢„ÇØ„Çª„Çµ„É™„Éº„Å®„Çπ„ÉÜ„ÉÉ„Ç´„Éº„Çí‰Ωú„Çä„Åæ„Åó„Åü„ÄÇ„ÇØ„Éº„É´„Éì„É•„Éº„ÉÜ„Ç£„Éº„Å™„ÅÇ„Åä„ÅÑ„Å°„ÇÉ„Çì„Ç∞„ÉÉ„Ç∫„Åß„Åô„ÄÇ',
    contact: { twitter: 'aoi_koubou' },
    tags: ['„ÅÇ„Åä„ÅÑ', '„Ç¢„ÇØ„Çª„Çµ„É™„Éº', '„Çπ„ÉÜ„ÉÉ„Ç´„Éº', '„ÇØ„Éº„É´'],
    isAdult: false,
    items: []
  }
}

// Methods
const formatPlacement = (placement) => {
  return `${placement.area}-${placement.block}-${placement.number}${placement.position}`
}

const getTwitterUrl = (twitterId) => {
  const cleanId = twitterId.replace('@', '')
  return `https://twitter.com/${cleanId}`
}

const handleBookmark = (category) => {
  console.log('Bookmark:', circleId, category)
  // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ useBookmarks().toggleBookmark „Çí‰ΩøÁî®
}

const shareCircle = async () => {
  if (navigator.share) {
    try {
      await navigator.share({
        title: `${circle.value.circleName} - geika check!`,
        text: circle.value.description,
        url: window.location.href
      })
    } catch (err) {
      console.log('Share cancelled')
    }
  } else {
    // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: URL„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº
    await navigator.clipboard.writeText(window.location.href)
    alert('URL„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„Åü')
  }
}

const reportCircle = () => {
  alert('Â†±ÂëäÊ©üËÉΩ„ÅØÊ∫ñÂÇô‰∏≠„Åß„Åô')
}

// „Éá„Éº„ÇøÂèñÂæó
const fetchCircle = async () => {
  loading.value = true
  error.value = null
  
  try {
    // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ API „Åã„Çâ„Éá„Éº„Çø„ÇíÂèñÂæó
    await new Promise(resolve => setTimeout(resolve, 500)) // „Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
    
    const circleData = sampleCircles[circleId]
    if (!circleData) {
      throw new Error('ÊåáÂÆö„Åï„Çå„Åü„Çµ„Éº„ÇØ„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì')
    }
    
    circle.value = circleData
  } catch (err) {
    error.value = err.message
  } finally {
    loading.value = false
  }
}

// ÂàùÊúüÂåñ
onMounted(() => {
  fetchCircle()
})

// SEO
useHead(() => ({
  title: circle.value ? `${circle.value.circleName} - geika check!` : '„Çµ„Éº„ÇØ„É´Ë©≥Á¥∞ - geika check!',
  meta: [
    { 
      name: 'description', 
      content: circle.value ? circle.value.description : '„Çµ„Éº„ÇØ„É´Ë©≥Á¥∞„Éö„Éº„Ç∏' 
    }
  ]
}))
</script>

<style scoped>
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (max-width: 768px) {
  .grid {
    grid-template-columns: 1fr !important;
  }
}
</style>